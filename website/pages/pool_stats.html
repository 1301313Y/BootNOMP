<style>

    #topCharts{
        padding: 18px;
    }

    #topCharts > div > div > svg{
        display: block;
        height: 280px;
    }

    .chartWrapper{
        border: solid 1px #c7c7c7;
        border-radius: 5px;
        padding: 5px;
        margin-bottom: 18px;
    }

    .chartLabel{
        font-size: 1.2em;
        text-align: center;
        padding: 4px;
    }

    .chartHolder{

    }

    @media (max-width: 768px) {
      #poolHashChart {
          width: 50%;
      }
    }
}

</style>

<div class="container-fluid">
	<div class="row">
  	<div class="col-md-12 pl-0 pr-0">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th colspan="4" scope="col" style="text-align: center;">General Information</th>
            <th colspan="2" scope="col" style="text-align: center;">Share Information</th>
            <th colspan="2" scope="col" style="text-align: center;">Block Information</th>
          </tr>
        </thead>
        <tbody>
            {{ for(var pool in it.stats.pools) { }}
              {{ if(pool !== it.stats.coin) continue; }}
              <tr>
                <td>Coin: </td>
                <td><img src="/static/icons/{{=String(it.stats.coin)}}.png" height="24px"/></td>
                <td>Port:</td>
                {{ for(var pool in it.poolsConfigs) { }}
                  {{ if(pool !== it.stats.coin) continue; }}
                  <td>{{=Object.keys(it.poolsConfigs[pool].ports)}}</td>
                  {{ break; }}
                {{ } }}
                <td>HashRate:</td>
                <td>{{=it.stats.pools[pool].hashrateString}}</td>
                <td>Pending Blocks:</td>
                <td>{{=it.stats.pools[pool].blocks.pending}}</td>
              <tr>
              <tr>
                <td>Name: </td>
                <td>{{=(String(it.stats.coin).charAt(0).toUpperCase() + String(it.stats.coin).slice(1))}}</td>
                <td>Workers:</td>
                <td>{{=it.stats.pools[pool].workerCount}}</td>
                <td>Valid Shares:</td>
                <td>{{=it.stats.pools[pool].poolStats.validShares}}</td>
                <td>Confirmed Blocks:</td>
                <td>{{=it.stats.pools[pool].blocks.confirmed}}</td>
              </tr>
              {{ break; }}
            {{ } }}
        </tbody>
      </table>
  	</div>
  </div>
  <div class="row">
  	<div class="col-md-12 chartWrapper">
      	<div class="chartLabel">Recent Hashrate History</div>
          <div class="chartHolder"><canvas id="poolHashChart" height="70px"></canvas></div>
  	</div>
  </div>
	<div class="row">
    	<div class="col-md-12 chartWrapper">
        	<div class="chartLabel">Block History</div>
        	<div class="chartHolder"><canvas id="blockChart" height="45px"></canvas></div>
    	</div>
	</div>
</div>



<script>
  var poolName = "{{=it.stats.coin}}";
  document.querySelector('main').appendChild(document.createElement('script')).src = '/static/pool_stats.js';
</script>
